# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
M
m
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2017:2026){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
iterOFL
paste0(getwd(),"2019central_summary",paste(c("modN", "modC", "modS")[m]),".csv")
i <- 1
iterOFL <- data.frame('MOD' = NA,'YEAR' = NA, 'OFL' = NA, 'FORECATCH' = NA,
'DEADBIO' = NA,
'REALIZEDBUFFER' = NA,
'TRUEBUFFER_045' =  NA,
'TRUEBUFFER_025' = NA,
"SUMMARYBIO" = NA,
'SPAWNBIO' = NA,
'DEPL' = NA) ## sigma 45)
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2017:2026){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
iterOFL
iterOFL %>% select(MOD, YEAR, OFL, FORECATCH, SPAWNBIO,DEPL) %>% write.csv(., file = paste0(getwd(),"/2019_mod_summaries.csv"))
# modNother <- SS_output(paste0("C:/Users/MKapur/Dropbox/UW/assessments/china_2019_update/chinarock-update-2019/crCentral_ABC_base/forecasts/forecast",y))
load(paste0("C:/Users/mkapur/Dropbox/UW/assessments/china_2019_update/chinarock-update-2019/r4ss/China_SS_output2015.RData"))
iterOFL <- data.frame('MOD' = NA,'YEAR' = NA, 'OFL' = NA, 'FORECATCH' = NA,
'DEADBIO' = NA,
'REALIZEDBUFFER' = NA,
'TRUEBUFFER_045' =  NA,
'TRUEBUFFER_025' = NA,
"SUMMARYBIO" = NA,
'SPAWNBIO' = NA,
'DEPL' = NA) ## sigma 45)
i <- 1
load(paste0("C:/Users/mkapur/Dropbox/UW/assessments/china_2019_update/chinarock-update-2019/r4ss/China_SS_output2019.RData"))
iterOFL <- data.frame('MOD' = NA,'YEAR' = NA, 'OFL' = NA, 'FORECATCH' = NA,
'DEADBIO' = NA,
'REALIZEDBUFFER' = NA,
'TRUEBUFFER_045' =  NA,
'TRUEBUFFER_025' = NA,
"SUMMARYBIO" = NA,
'SPAWNBIO' = NA,
'DEPL' = NA) ## sigma 45)
i <- 1
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2019:2030){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
iterOFL %>% select(MOD, YEAR, OFL, FORECATCH, SPAWNBIO,DEPL) %>% write.csv(., file = paste0(getwd(),"/2019_mod_summaries.csv"))
# modNother <- SS_output(paste0("C:/Users/MKapur/Dropbox/UW/assessments/china_2019_update/chinarock-update-2019/crCentral_ABC_base/forecasts/forecast",y))
load(paste0("C:/Users/mkapur/Dropbox/UW/assessments/china_2019_update/chinarock-update-2019/r4ss/China_SS_output2015.RData"))
iterOFL <- data.frame('MOD' = NA,'YEAR' = NA, 'OFL' = NA, 'FORECATCH' = NA,
'DEADBIO' = NA,
'REALIZEDBUFFER' = NA,
'TRUEBUFFER_045' =  NA,
'TRUEBUFFER_025' = NA,
"SUMMARYBIO" = NA,
'SPAWNBIO' = NA,
'DEPL' = NA) ## sigma 45)
i <- 1
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2017:2026){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
y
i <- 1
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2018:2026){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
y
round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
m
modNother$derived_quants[grep(paste0("SSB_",2015:2025,collapse = "|")
)
)
round(modNother$derived_quants[grep(paste0("SSB_",2015:2025,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
round(modNother$derived_quants[grep(paste0("SSB_",2015,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
round(modNother$derived_quants[grep(paste0("SSB_",2013,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
str(modN)
sort(unique(modNother$derived_quants$Label))
sort(unique(modNother$derived_quants$label))
head(modNother$derived_quants)
i <- 1
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2018:2026){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
# iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SPB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
View(modNother$derived_quants)
round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2)
i <- 1
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2018:2026){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
## FOR 2019
# iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
# iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SPB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SPB_",y,collapse = "|"),modNother$derived_quants$LABEL),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- 1
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2018:2026){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
## FOR 2019
# iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
# iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SPB_",y,collapse = "|"),modNother$derived_quants$LABEL),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2018:2026){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
# iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
## FOR 2019
# iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
# iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SPB_",y,collapse = "|"),modNother$derived_quants$LABEL),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
i <- 1
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2018:2026){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
# iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
## FOR 2019
# iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
# iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SPB_",y,collapse = "|"),modNother$derived_quants$LABEL),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
iterOFL %>% select(MOD, YEAR, OFL, FORECATCH, SUMMARYBIO, SPAWNBIO,DEPL)
iterOFL %>% select(MOD, YEAR, OFL, FORECATCH, SUMMARYBIO, SPAWNBIO,DEPL) %>% write.csv(., file = paste0(getwd(),"/2015_mod_summaries.csv"))
load(paste0("C:/Users/mkapur/Dropbox/UW/assessments/china_2019_update/chinarock-update-2019/r4ss/China_SS_output2019.RData"))
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2018:2026){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
## FOR 2019
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
# iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
# iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SPB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
iterOFL
iterOFL <- data.frame('MOD' = NA,'YEAR' = NA, 'OFL' = NA, 'FORECATCH' = NA,
'DEADBIO' = NA,
'REALIZEDBUFFER' = NA,
'TRUEBUFFER_045' =  NA,
'TRUEBUFFER_025' = NA,
"SUMMARYBIO" = NA,
'SPAWNBIO' = NA,
'DEPL' = NA) ## sigma 45)
i <- 1
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2018:2026){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
## FOR 2019
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
# iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
# iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SPB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
iterOFL %>% select(MOD, YEAR, OFL, FORECATCH, SUMMARYBIO, SPAWNBIO,DEPL)
iterOFL <- data.frame('MOD' = NA,'YEAR' = NA, 'OFL' = NA, 'FORECATCH' = NA,
'DEADBIO' = NA,
'REALIZEDBUFFER' = NA,
'TRUEBUFFER_045' =  NA,
'TRUEBUFFER_025' = NA,
"SUMMARYBIO" = NA,
'SPAWNBIO' = NA,
'DEPL' = NA) ## sigma 45)
i <- 1
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2019:2030){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
## FOR 2019
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
# iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
# iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SPB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
iterOFL %>% select(MOD, YEAR, OFL, FORECATCH, SUMMARYBIO, SPAWNBIO,DEPL)
iterOFL %>% select(MOD, YEAR, OFL, FORECATCH, SUMMARYBIO, SPAWNBIO,DEPL) %>% write.csv(., file = paste0(getwd(),"/2019_mod_summaries.csv"))
# modNother <- SS_output(paste0("C:/Users/MKapur/Dropbox/UW/assessments/china_2019_update/chinarock-update-2019/crCentral_ABC_base/forecasts/forecast",y))
load(paste0("C:/Users/mkapur/Dropbox/UW/assessments/china_2019_update/chinarock-update-2019/r4ss/China_SS_output2015.RData"))
iterOFL <- data.frame('MOD' = NA,'YEAR' = NA, 'OFL' = NA, 'FORECATCH' = NA,
'DEADBIO' = NA,
'REALIZEDBUFFER' = NA,
'TRUEBUFFER_045' =  NA,
'TRUEBUFFER_025' = NA,
"SUMMARYBIO" = NA,
'SPAWNBIO' = NA,
'DEPL' = NA) ## sigma 45)
i <- 1
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2015:2026){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
# iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
## FOR 2019
# iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$LABEL),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
# iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SPB_",y,collapse = "|"),modNother$derived_quants$LABEL),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
iterOFL %>% select(MOD, YEAR, OFL, FORECATCH, SUMMARYBIO, SPAWNBIO,DEPL) %>% write.csv(., file = paste0(getwd(),"/2015_mod_summaries.csv"))
i <- 1
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2015:2026){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
# iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
## FOR 2019
# iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$LABEL),"Value"],2)
# iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SPB_",y,collapse = "|"),modNother$derived_quants$LABEL),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
iterOFL %>% select(MOD, YEAR, OFL, FORECATCH, SUMMARYBIO, SPAWNBIO,DEPL) %>% write.csv(., file = paste0(getwd(),"/2015_mod_summaries.csv"))
load(paste0("C:/Users/mkapur/Dropbox/UW/assessments/china_2019_update/chinarock-update-2019/r4ss/China_SS_output2019.RData"))
iterOFL <- data.frame('MOD' = NA,'YEAR' = NA, 'OFL' = NA, 'FORECATCH' = NA,
'DEADBIO' = NA,
'REALIZEDBUFFER' = NA,
'TRUEBUFFER_045' =  NA,
'TRUEBUFFER_025' = NA,
"SUMMARYBIO" = NA,
'SPAWNBIO' = NA,
'DEPL' = NA) ## sigma 45)
i <- 1
load(paste0("C:/Users/mkapur/Dropbox/UW/assessments/china_2019_update/chinarock-update-2019/r4ss/China_SS_output2019.RData"))
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2015:2019){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
# iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
## FOR 2019
# iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$LABEL),"Value"],2)
# iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SPB_",y,collapse = "|"),modNother$derived_quants$LABEL),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
load(paste0("C:/Users/mkapur/Dropbox/UW/assessments/china_2019_update/chinarock-update-2019/r4ss/China_SS_output2019.RData"))
modN$catch
i <- 1
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2015:2019){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
# iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
## FOR 2019
# iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$LABEL),"Value"],2)
# iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SPB_",y,collapse = "|"),modNother$derived_quants$LABEL),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
i <- 1
for(m in seq_along(list(modN, modC, modS))){
modNother <- list(modN, modC, modS)[[m]]
for(y in 2015:2019){
# iterOFL[i,'MOD'] <- paste0(basename(list.dirs(rd, recursive = F)[l]))
iterOFL[i,'MOD'] <- paste(c("modN", "modC", "modS")[m])
iterOFL[i,'YEAR'] <- y
iterOFL[i,'OFL'] <- modNother$derived_quants[grep(paste0("OFLCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"]
iterOFL[i,'FORECATCH'] <- modNother$derived_quants[grep(paste0("ForeCatch_",y,collapse = "|"), modNother$derived_quants$Label),"Value"]
# iterOFL[i,'DEADBIO'] <-  modNother$timeseries[, grepl('Yr|dead[(]B', names(modNother$timeseries))] %>% filter(Yr == y) %>% select(-Yr) %>% rowSums(.)
# iterOFL[i,'REALIZED BUFF'] <-    round(iterOFL[i,'FORECATCH']/iterOFL[i,'OFL'],3)
iterOFL[i,'SUMMARYBIO'] <- modNother$timeseries[modNother$timeseries$Yr == y,"Bio_smry"]
## FOR 2019
iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SSB_",y,collapse = "|"),modNother$derived_quants$Label),"Value"],2)
iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$Label),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
# iterOFL[i,'SPAWNBIO'] <-      round(modNother$derived_quants[grep(paste0("SPB_",y,collapse = "|"),modNother$derived_quants$LABEL),"Value"],2)
# iterOFL[i,'DEPL'] <-    round(modNother$derived_quants[grep(paste0("Bratio_",y,collapse = "|"), modNother$derived_quants$LABEL),"Value"],2) # round(qlnorm(0.25,0,0.5*(1+c(1:10)*0.075)),3)[y-2020]
i <- i+1
} ## end yrs
} ## end MODS
iterOFL
iterOFL %>%select(MOD, YEAR, FORECATCH)
pbinom(0,3,0.2)
dbinom(2,3,0.2)
dbinom(2,3,0.2, lower = T)
?dbinom(2,3,0.2)
dbinom(0,3,0.2)
dbinom(2,3,0.2, lower = T)
pbinom(2,3,0.2, lower = T)
punif(0.2, 0,1)
?punif
dunic(0.2,0,1)
dunif(0.2,0,1)
hist(rexp(100,5))
mean(rexp(10000,5))
mean(rexp(100000,5))
dunif(3,2,6)
punif(3,2,6)
pexp(1/3,3)
hist(rnorm(100,1,5^2)+hist(rnorm(100,-2,3^2)))
hist(rnorm(100,1,5^2)+rnorm(100,-2,3^2))
hist(rnorm(100,1,5^2)+rnorm(100,-2,3^2))
mean(rnorm(10000,1,5^2)+rnorm(10000,-2,3^2))
mean(rnorm(100000,1,5^2)+rnorm(100000,-2,3^2))
mean(rnorm(1000000,1,5^2)+rnorm(1000000,-2,3^2))
hiar(rnorm(1000000,1,5^2)+rnorm(1000000,-2,3^2))
hist(rnorm(1000000,1,5^2)+rnorm(1000000,-2,3^2))
sd(rnorm(1000000,1,5^2)+rnorm(1000000,-2,3^2))
9+25
var(rnorm(1000000,1,5^2)+rnorm(1000000,-2,3^2))
?var
var(x = rnorm(1000000,1,5^2)+rnorm(1000000,-2,3^2))
